## 取り組んだ課題一覧
- ECサイト_商品一覧

## わかったこと
### webアプリを表示させるための一連の流れ
**プロジェクト作成**

```python
django-admin startproject config .
```
**アプリ作成**
```python
python manage.py startapp product_list
```
**アプリ内の設定**
```python
**product_list/views.py**

from django.shortcuts import render
from django.views.generic import TemplateView

# Create your views here.


class ProductList(TemplateView):
    template_name = "product_list/product_list.html"


product_list = ProductList.as_view()
```
- `TemplateView` を継承して、`templates` を返す設定
- クラスの値を product_list に格納して urls.py に設定する際にproduct_list を使えるようにする

```python
**product_list/urls.py**

from django.urls import path
from . import views


app_name = "product_list"

urlpatterns = [
    path("", views.product_list, name="product_list"),
]
```
```python
**config/urls.py**

from django.contrib import admin
from django.urls import path, include
from django.views.generic.base import TemplateView

urlpatterns = [
    path("admin/", admin.site.urls),
    path("hello/", TemplateView.as_view(template_name="hello.html")),
    path(
        "product_list/",
        include("product_list.urls"),
        name="product_list",
    ),
]


```

- product_list とアクセスしたら product_list アプリに繋がるようにする
- name を設定し product_list で逆引きできるようにする

```python
**config/settings.py**

DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.postgresql",
        "NAME": "postgres",
        "USER": "postgres",
        "PASSWORD": "postgres",
        "HOST": "db",
        "PORT": 5432,
        "TIME_ZONE": "Asia/Tokyo",
    }
}

```
```python
**product_list/models.py**

from django.db import models

# Create your models here.


class ProductList(models.Model):
    id = models.AutoField(primary_key=True, unique=True)
    name = models.CharField(max_length=100)
    price = models.IntegerField(default=0)
    image = models.ImageField()

```

**アプリを登録する**

```python
**config/settings.py**

INSTALLED_APPS = [
    "product_list.apps.ProductListConfig",
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",
]
```
**DBの変更を反映**
```python
python manage.py makemigrations
python manage.py migrate
```

**templates**

- アプリ内の templates フォルダに product_list フォルダを作し、その中に product_list.html を作成


**static**
-  フォルダの中にアプリ名のフォルダを作成
  - cssファイルを作成

- template.htmlからcssを見れるように設定
```html
<head>
   <link href="../../../static/product_list/styles.css" rel="stylesheet" />
</head>
```

- staticファイルを見れるように設定

```python:config/settings.py
STATIC_URL = "static/"
STATICFILES_DIRS = [BASE_DIR / "static"]
```
## 次やること
- migrationsとmigrateを実施する
  - 画像を用意してアプリ内のimagesフォルダの中に格納する
- templateファイルに画像をペタペタ貼る
- templateファイル内にmodelsのインスタンス変数を埋め込む
- loaddataで投入する
```python
python manage.py loaddata app_name/fixtures/test-data.json
```

## 感じたこと
- エラーはしっかり原因を教えてくれるのでそれをしっかり読み解けば解決できる
- プログラミンが総合格闘技と言われる理由がわかった。docker,dd,html,css,python,django全ての知識が必要。

## 学習時間
- 4.75h
