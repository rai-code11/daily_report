
## 取り組んだ課題一覧
- ECサイト_商品一覧

## わかったこと

▪️現在の状況
開発環境では下記のようにmediaROOTを使い、正常に画面を表示することができましたが、本番環境で確認すると商品データが表示されないという状況です。

**開発環境**
<img width="1693" height="1018" alt="スクリーンショット 2025-10-20 10 41 58" src="https://github.com/user-attachments/assets/6bdb186c-7c00-4e3a-b3d0-65bda81322b0" />

**本番環境**
<img width="1220" height="969" alt="スクリーンショット 2025-10-20 15 47 20" src="https://github.com/user-attachments/assets/73580685-f705-49a8-beec-77ad18f52744" />

**cloudinaryの画像格納方法**
<img width="1126" height="829" alt="スクリーンショット 2025-10-20 15 37 08" src="https://github.com/user-attachments/assets/9db68431-1136-4191-b950-62dda0dc0136" />


▪️解決したいこと
本番環境でも開発環境と同じように表示させたい。

▪️調べたこと/実施したこと
商品名、価格なども表示されていないため、商品データが上手く行っていないと推測。
- seed登録用のtest-data-prod.jsonファイルの画像フィールドが拡張子なしのPublicIDになっていることを確認。
- Heroku Shellでデータの存在確認。
```
heroku run python manage.py shell
Running python manage.py shell on ⬢ safe-coast-43605... up, run.4789
Python 3.13.9 (main, Oct 15 2025, 09:52:58) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from product_list.models import ProductList
>>> print(ProductList.objects.all().count())
8
```
**古いデータが入っていないかを確認。**
```python
->>> from product_list.models import ProductList
>>> product = ProductList.objects.first()
>>> print(product.image.url)
https://res.cloudinary.com/hfofbwa6i/image/upload/v1/images/afurikaookonohazuku_kd1nx9.jpg
```
afurikaookonohazuku_kd1nx9.jpgと.jpgの拡張子がついた古いファイルが入っていることを確認。
削除して新しいデータを格納。
```
>>> from product_list.models import ProductList
>>> ProductList.objects.all().delete()
(8, {'product_list.ProductList': 8})
>>> print(ProductList.objects.all().count())
0
```
```
heroku run python manage.py loaddata test-data-prod.json
```
```
heroku restart
```
▪️結果
表示に変化はなく解決ができない。

## 次やること
- 
- 

## 感じたこと
- エラーがなかなか解決できなくてしんどい。少しずつ前に進んでいるけど。

## 学習時間
- 6.55h
