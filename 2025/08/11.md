## 取り組んだ課題一覧  
- Python_Udemy_s45~59
- Python_Udemy_振り返り

## わかったこと
### 1. 位置引数・キーワード引数・デフォルト引数
**ねらい**：関数に値を渡す方法を使い分けて、読みやすさと安全性を上げる。  
**要点**
- 位置引数：定義順で渡す（最短・速読性◯だが入れ替えに弱い）。
- キーワード引数：`name=value`で順序に依存しない（明示性◯）。
- デフォルト引数：省略時の値を設定。**デフォルトは位置引数の後ろ**に置く。

```python
def func(first, second, third="3"):
    print(f"first: {first}, second: {second}, third: {third}")

func("1", "2")                      # first: 1, second: 2, third: 3
func("1", third="3", second="2")     # 順番自由（キーワード指定）
```

**落とし穴**
- デフォルト引数に**可変オブジェクト（list/dict）を置かない**：関数間で共有されバグ源に。

---

### 2. 可変長引数：`*args` と `**kwargs`
**ねらい**：引数の数が不定な関数を作る。  
**要点**
- `*args`：余った**位置引数**をタプルで受け取る。
- `**kwargs`：余った**キーワード引数**を辞書で受け取る。

```python
def get_average(*args):
    return sum(args) / len(args) if args else 0

print(get_average(1, 2, 3))  # 2.0

def kwargs_func(**kwargs):
    # 受け取った任意のキーを安全に参照
    param1 = kwargs.get('param1', 1)
    param2 = kwargs.get('param2', 2)
    param3 = kwargs.get('param3', 3)
    print({'param1': param1, 'param2': param2, 'param3': param3})

kwargs_func(param1=10, param2=6, param4=4)  # 未使用キーも受け取れる
```

**落とし穴（元コードの修正点）**
- `print({f'param1: {param1}, ...'})` は**集合（set）**になるのでNG。上のように辞書 or f文字列で出力を。

---

### 3. 引数宣言の順序ルール
**ねらい**：読みやすくエラーを避ける宣言順。  
**順序**：`[positional-only /] positional-or-keyword, *args, [keyword-only], **kwargs`

```python
def func(positional, keyword='default', *args, kw_only='K', **kwargs):
    print(positional, keyword, args, kw_only, kwargs)
```
`kw_only` のような**キーワード専用**は `*` 以降に置く。

---

### 4. アンパッキング演算子 `*` / `**`
**ねらい**：シーケンスや辞書を展開して渡す・合成する。

```python
numbers = (1, 2, 3)
print(*numbers)  # 1 2 3

a = {'a': 1, 'b': 2}
b = {'c': 3, 'd': 4}
c = {**a, **b}   # {'a': 1, 'b': 2, 'c': 3, 'd': 4}
print(c)
```

---

### 5. 型ヒント（Type Hints）
**ねらい**：意図を明示し、エディタ補完や静的解析を強化。

```python
def add_nums(num1: int, num2: int) -> int:
    return num1 + num2
```

**備考**：ヒントは実行時強制ではない（型チェックは mypy 等で）。

---

### 6. スコープ：`local` / `global` / `nonlocal`
**ねらい**：値の**見える範囲**と**更新範囲**を理解する。  
**要点**
- `local`：関数内だけ有効。
- `global`：モジュール全体で共有。**書き換えは極力避ける**（副作用増）。
- `nonlocal`：外側関数の変数を内側関数で更新。

```python
# local / global の例
age = 30

def print_age():
    age = 20  # local
    print(f"I'm {age} years old")

print_age()  # 20
print(age)   # 30（globalは変わらない）

# global を書き換える例（推奨はしない）
call_count = 0

def inc():
    global call_count
    call_count += 1

inc(); inc()
print(call_count)  # 2

# nonlocal の例
def outer():
    msg = "outer"
    def inner():
        nonlocal msg
        msg = "inner"
    inner()
    return msg

print(outer())  # inner
```

---

### 7. ネスト関数と可視性
**ねらい**：内部実装の隠蔽とヘルパー化。

```python
def outer():
    def inner():
        return "inner"
    return inner()

print(outer())  # "inner"
# inner()  # NameError: outer の外からは見えない
```

**注意**：同名の関数を後で再定義すると**上書き**される（後勝ち）。

---

### 8. 関数はオブジェクト（高階関数 / クロージャ）
**ねらい**：関数をデータとして扱い、振る舞いを差し替える。

```python
def compute_square(num):
    return num * num

f = compute_square
print(f(10))  # 100

def power(exponent):
    def inner_power(base):
        return base ** exponent
    return inner_power

power_four = power(4)     # exponent=4 を保持するクロージャ
print(power_four(2))      # 16
print(power_four(3))      # 81
```

---

### 9. デコレータ（Decorator）
**ねらい**：**元の関数を変更せず**に前後処理を付与する（ログ、計測、認可など）。

```python
from functools import wraps

def greeting(func):
    @wraps(func)  # メタデータ（__name__ 等）を保持
    def inner(*args, **kwargs):
        print("Hello!")
        result = func(*args, **kwargs)
        print("Nice to meet you!")
        return result
    return inner

@greeting
def say_name(name):
    print(f"I'm {name}")

say_name("Taro")
```

---

### 10. 再帰関数（Recursive）
**ねらい**：大問題を同型の小問題に分割。

```python
def factorial(n: int) -> int:
    if n < 2:
        return 1
    return n * factorial(n-1)

print(factorial(5))  # 120
```

**フィボナッチ（反復版推奨）**
```python
def fibonacci(n: int) -> int:
    if n < 2:
        return n
    a, b = 0, 1
    for _ in range(n-1):
        a, b = b, a + b
    return b

print([fibonacci(i) for i in range(10)])  # 0..34
```

---

### 11. ラムダ式（`lambda`）
**ねらい**：短い無名関数をその場で渡す。

```python
numbers = [6, 2, 5, 43, 5, 36, 67, 2]
filtered = filter(lambda x: x % 2, numbers)  # 奇数だけ
print(list(filtered))
```

**指針**：処理が複雑なら `def` で名前を付けて可読性を確保。

---

### 12. Docstring（関数の説明）
**ねらい**：使い方・引数・戻り値を**コードと一緒に**保管。

```python
def multiply(num1: int, num2: int) -> int:
    """
    Multiply two integers.

    Args:
        num1: First number.
        num2: Second number.
    Returns:
        Product of num1 and num2.
    """
    return num1 * num2

print(multiply.__doc__)
# help(multiply) でも表示される
```

---

## 次やること
- Python_Udemy_s60~69
- Python_Udemy_振り返り

## 感じたこと
- 基礎編を２周目したらかなり頭に入ってきた。基礎は使えて初めて意味があると思うので、今後は覚えたものをどう使うかをしっかりと学習して身につけていきたい。
- 処理をひとまとまりにして保存しておける関数は、めんどくさがりやな自分にとって興味が湧くプログラムだと思う。関数を上手く扱えるようにあれば楽にコーディングできるようになると感じた。

## 学習時間
- 6.50h
