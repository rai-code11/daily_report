## 取り組んだ課題一覧  
- Python_自販機_修正
- SQL
  - 超入門
  - 入門書籍 p1~131

## わかったこと
### SQL基礎：SELECTとWHERE

#### SELECT = 列を選ぶ
- テーブルの「縦方向」を指定
- どのカラム（列）を表示するかを決める

例:
```pssql
SELECT name, age 
FROM users;
```
→ usersテーブルから name列とage列だけを取得

---

#### WHERE = 行を絞る
- テーブルの「横方向」を指定
- 条件に合うレコード（行）だけを残す

例:
```pssql
SELECT * 
FROM users
WHERE age >= 20;
```
→ usersテーブルから20歳以上の行だけを取得

---

#### 使い分けまとめ
1. SELECT → 表示したい「列」を決める  
2. WHERE → 残したい「行」を決める  


### SQLが実行される順番

1. **FROM**  
   - どのテーブルを使うか決定  

2. **WHERE**  
   - 条件に合う「行」を絞り込み  

3. **GROUP BY**  
   - 指定した列でグループ化  

4. **HAVING**  
   - グループ化後の条件を絞り込み  

5. **SELECT**  
   - 表示する「列」を選択  

6. **ORDER BY**  
   - 結果を並び替え  

7. **LIMIT / OFFSET**  
   - 取得する件数や開始位置を制御  


### SQL4大命令文と分類

#### 1. SQL4大命令文
- SELECT … データの検索（取り出し）
- INSERT … データの追加
- UPDATE … データの更新
- DELETE … データの削除

この4つをまとめて「SQLの4大命令」と呼ぶ（DML：Data Manipulation Language）。

---

#### 2. 検索系と更新系
- 検索系  
  - SELECT（既存データを検索）

- 更新系  
  - INSERT（新規データを追加）  
  - UPDATE（既存データを更新）  
  - DELETE（既存データを削除）

---

#### 3. 既存系と新規系
- 既存系  
  - SELECT（既存データを検索）  
  - UPDATE（既存データを更新）  
  - DELETE（既存データを削除）

- 新規系  
  - INSERT（新しいデータを追加）

### IN / NOT IN 演算子

#### IN 演算子
- 指定した複数の値の中に対象が「含まれる」かを判定する
- 例:
    SELECT name
    FROM users
    WHERE age IN (20, 25, 30);
- 効用: OR 条件を簡潔に書ける  
  （例: `age = 20 OR age = 25 OR age = 30` ⇔ `age IN (20,25,30)`）

#### NOT IN 演算子
- 指定した複数の値の中に対象が「含まれない」かを判定する
- 例:
    SELECT name
    FROM users
    WHERE age NOT IN (20, 25, 30);

#### 注意点
- `NOT IN` の候補に NULL が含まれると、結果が返らなくなる場合があるので注意

### ANY / ALL 演算子

#### ANY 演算子
- 条件が「いずれか1つ以上」に当てはまれば真になる
- よく使う形: `= ANY`, `< ANY`, `> ANY` など
- 例:
    SELECT name, age
    FROM users
    WHERE age = ANY (20, 30, 40);

#### ALL 演算子
- 条件が「すべて」に当てはまるときだけ真になる
- よく使う形: `= ALL`, `< ALL`, `> ALL` など
- 例:
    SELECT name, age
    FROM users
    WHERE age > ALL (20, 25, 30);

#### 特徴
- `ANY` は OR 条件の簡潔表現
- `ALL` は「すべてに一致」や「最大値・最小値チェック」に使える



### IN / NOT IN と ANY / ALL の使い分け

#### IN / NOT IN を使うタイミング
- **特定の値の集合に一致するかどうか**をシンプルに書きたいとき
- 例: 年齢が 20, 25, 30 のいずれか → `age IN (20,25,30)`
- 主に `=` 比較に限定して使う場合に便利

#### ANY / ALL を使うタイミング
- **大小比較を含めて複数の値と比較したいとき**
- 例: 年齢が「候補の中で一番大きい値より大きい」など
- 最大値・最小値チェックをシンプルに書きたいときに有効

#### まとめ
- 値の「一致／不一致」だけなら **IN / NOT IN**  
- 値の「大小比較」まで含めたいなら **ANY / ALL**


### 論理演算子の優先度

#### 優先度の基本
1. NOT
2. AND
3. OR

同じ式の中ではこの順番で評価される。

---

#### 例
```sql
SELECT *
FROM users
WHERE NOT age = 20 OR age = 30 AND gender = 'M';
```

実際の解釈:
```sql
WHERE (NOT age = 20) OR (age = 30 AND gender = 'M');
```

---

#### () で優先度を変更
演算子の優先度は () で引き上げ可能。複雑な条件では可読性のためにも明示的に括弧を付ける。

```sql
WHERE (NOT (age = 20 OR age = 30)) AND gender = 'M';
```


### OFFSET - FETCH の使い方

#### 基本構文
```sql
SELECT 列名
FROM テーブル名
ORDER BY 並び替え条件
OFFSET 開始位置 ROWS
FETCH NEXT 取得件数 ROWS ONLY;
```

- **OFFSET**  
  スキップする行数を指定する  
- **FETCH NEXT**  
  取得する行数を指定する  

---

#### 例1: 先頭から10件目以降を5件取得
```sql
SELECT *
FROM users
ORDER BY id
OFFSET 10 ROWS
FETCH NEXT 5 ROWS ONLY;
```
→ id順で並べた結果の「11件目〜15件目」を取得

---

#### 例2: ページング処理に応用
- 1ページ10件表示のとき  
  - 1ページ目: `OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY`  
  - 2ページ目: `OFFSET 10 ROWS FETCH NEXT 10 ROWS ONLY`  
  - 3ページ目: `OFFSET 20 ROWS FETCH NEXT 10 ROWS ONLY`

---

#### 注意点
- **ORDER BY が必須**（順序が決まらないと OFFSET の意味がなくなる）  
- 大量データではパフォーマンスに影響することがある（特に OFFSET が大きい場合）

## 次やること
- python_自販機
- SQL_書籍p132~

## 感じたこと
- 勉強することが当たり前の習慣になってきた。
- pythonのコードが難易度が上がっていたからか、SQLのコードはそんなに難しいと感じない。

## 学習時間
- 9.00h
