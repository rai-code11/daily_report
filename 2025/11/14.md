## 取り組んだ課題一覧
- ECサイト_カート機能

## わかったこと
### View と Context Processor の仕組みの違い（メモ）

---

#### ①View は “テンプレートとセットの特別な存在”

View には Django が用意してくれている **テンプレート連携の仕組み** がある。

- `context = {...}` を作る
- `return render()` や `get_context_data()` で `context` を返す／渡す
- Django が自動でその `context` をテンプレートへ渡す

そのため View の中では：
```python
    context["xxx"] = 値
```
のように書くだけで、  
テンプレートから `{{ xxx }}` として使える。

---

#### ②通常の関数（context_processor 以外）は「ただの Python 関数」

普通の関数には次のような仕組みは **一切ない**。

- テンプレ連携
- context をテンプレに混ぜ込む処理
- Django が自動で拾ってくれる処理

そのため、テンプレに渡したい値がある場合は：

- view から `render()` に渡す
- context_processor として登録する

などの「ルート」に乗せる必要がある。

---

#### ③context_processor は「追加辞書を返す専門職」

context_processor の役割は一言でいうと：

> **テンプレートに追加したい値を辞書で返すだけの関数**

ビューのように最初から `context` 辞書があるわけではないので、  
`context` を編集するのではなく、**新しい辞書を返すだけ**。

Django は

- view が作った context  
- 各 context_processor が返した辞書  

をまとめて、最終的な context としてテンプレに渡す。

イメージ：

- view の context  
```html
      {"title": "Detail", "product": obj}
```
- processor の return  
```html
      {"cart_total_quantity": 5}
```
- 最終的な context  
```html
      {"title": "Detail", "product": obj, "cart_total_quantity": 5}
```
---

### @property の意味（超簡潔まとめ）

#### @property とは？

メソッドを **「属性（フィールド）みたいに」呼び出せるようにする仕組み**。

本来なら：
```python
    icon.icon_thumb_url()
```
のように「メソッド呼び出し（カッコ付き）」をするところを、

@property を付けると：
```python
    icon.icon_thumb_url
```
のように「フィールドっぽく（カッコなし）」アクセスできる。

---

#### ● 使いどころ

- 計算結果を「フィールドっぽく」扱いたいとき
- URL生成・合計値・変換・加工などを、テンプレートで簡単に使いたいとき

---

#### ● このモデルの場合
```python
    @property
    def icon_thumb_url(self):
        ...
        return url
```
テンプレートでは：
```html
    {{ icon.icon_thumb_url }}
```
と書くだけで、  
Cloudinary で生成されたサムネイルURLが毎回返ってくる。

> 「毎回メソッドを呼んで計算しているけど、  
>  見た目の書き心地はフィールドと同じ」

というのが @property の美味しいポイント。
## 次やること
- 
- 


## 感じたこと
- 

## 学習時間
- 5.15h
