## 取り組んだ課題一覧
- Django_ECサイト_チェックアウト機能
- JS＿カレンダー
- Django_アウトプット

## わかったこと

### Django `create()` メソッド 

#### 1. 役割

- モデルのインスタンスを **作成して、その場でDBに保存** までしてくれるメソッド
- 呼び出し元は基本的に **`Model.objects`（マネージャ）**

```python

    # 例：Userモデルに1件レコードを追加
    user = User.objects.create(
        username="taro",
        email="taro@example.com",
    )
```
---

#### 2. 基本的な使い方

- 形：`Model.objects.create(フィールド名=値, ...)`
- 返り値：保存済みのモデルインスタンス

```python

    user = User.objects.create(username="taro")

    # すでに保存済みなので、主キーも即取得できる
    print(user.id)
```
ポイント：

- `create()` 内で `INSERT` まで実行される
- そのため **`save()` を呼ぶ必要はない**

---

#### 3. `new + save` との違い

```python

    # パターン①：create() を使う場合
    user = User.objects.create(username="taro")

    # パターン②：インスタンス作成 → save() の場合
    user = User(username="taro")
    user.save()
```
- 結果はどちらも「レコード1件追加」で同じ
- `create()` は「作る＋保存」を 1 行で書きたいときに使うイメージでOK

---

#### 4. ForeignKey で別のインスタンスを渡す場合

- `ForeignKey` フィールドには、**関連先モデルのインスタンスをそのまま渡せる**
- もしくは `xxx_id` という形で **主キー（id）を直接渡す** こともできる

モデル
```python

    class User(models.Model):
        username = models.CharField(max_length=30)

    class Order(models.Model):
        user = models.ForeignKey(User, on_delete=models.CASCADE)
        total_price = models.IntegerField()
```
インスタンスを渡す
```python

    user = User.objects.get(pk=1)

    order = Order.objects.create(
        user=user,          # ForeignKey に User インスタンスをそのまま渡す
        total_price=3000,
    )
```
`_id` を使ってidを渡す
```python
    order = Order.objects.create(
        user_id=1,          # 「フィールド名_id」で主キーを直接渡す書き方
        total_price=3000,
    )
```
ポイント：

- `user=` の部分は **モデルのフィールド名（ForeignKey名）と一致必須**
- 右側は `user` インスタンスでも `user_id` でもOK（用途に応じて使い分け）

---

#### 5. ManyToManyField の注意点

- `ManyToManyField` は `create()` の引数では直接設定できない
- いったん `create()` でオブジェクトを保存してから `.add()` で紐づける

```python

    book = Book.objects.create(title="Django入門")

    # ManyToManyField に後から追加
    book.authors.add(author1, author2)
```
### JSで任意の数の配列を作成する

**for文版**
```js
const days = [];
for (let i = 0; i < 31; i++) {
  days.push(i + 1);
}
```

**Array.from版**
```js
const days = Array.from({ length: 31 }, (_, i) => i + 1);
```
今回はvalueを使わないので_で伏せる
基本はindexとvalueはセットで使われるので

```js
const base = [5, 10, 15];

const arr = Array.from(base, (value, index) => {
  console.log("value:", value, "index:", index);
  return value * 2;
});
```


## 次やること
- 購入明細をチェックアウト時のメールに送ること
- 購入明細情報を保存する
- 購入明細の一覧、詳細ページの作成
- JSカレンダー
- Qiita


## 感じたこと
- 朝一番頭を使うDjango、昼ぼちぼち頭を使うJS、夜あまり頭を使わない振り返り。これが一番トータルで集中しながら勉強できる気がする。
- 午前中にもっと早く起きて勉強できたらもう少し楽になる。

## 学習時間
- 10h
